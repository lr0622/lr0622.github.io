<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
		<style>
			#oUl li ul{
				display: none;
			}
			#oUl li ul.show{
				display: block;
			}
			#oUl li ul.hide{
				display: none;
			}
			#oUl li h3 span{
				padding: 0px 220px;
			}
			#oUl li h3.padL{
				padding-left: 1000px;
			}
			li{
				list-style: none;
				
			}
		</style>

	</head>

<body>
	<ul id="oUl"></ul>
</body>
<script>
var arr = [
{
    title : "第一级菜单1",
    child : [
    	{title:"第二级菜单1"},
        {title:"第二级菜单2",
        child:[
        		{title:"第三级菜单1"},
        		{title:"第三级菜单2",
        		child:[
        			{title:"第四级菜单1"},
        			{title:"第四级菜单2"},
        			{title:"第四级菜单3"}
        		]
        		},
        		{title:"第三级菜单3"}
        	]
    	},
        {
        	title:"第二级菜单3",
        	child:[
        		{title:"第三级菜单1"},
        		{title:"第三级菜单2"}
        	]
        }
    ]
},
{
    title : "第一级菜单2",
    child : [
    	{title:"第二级菜单1"},
        {title:"第二级菜单2",
        child:[
        		{title:"第三级菜单1"},
        		{title:"第三级菜单2",
        		child:[
        			{title:"第四级菜单1"},
        			{title:"第四级菜单2"},
        			{title:"第四级菜单3"}
        		]
        		},
        		{title:"第三级菜单3"}
        	]
    	},
        {
        	title:"第二级菜单3",
        	child:[
        		{title:"第三级菜单1"},
        		{title:"第三级菜单2"}
        	]
        }
    ]
},
{
	title:"第一级菜单3",
	child:[
		{title:"第二级菜单1"},
		{title:"第二级菜单2"}
	]
},
];
	var oUl = document.getElementById('oUl');
	var aH = oUl.getElementsByTagName('h3');
	for (var i=0;i<arr.length;i++) {
		fn(oUl,arr[i]);
	}
	
	function fn(obj,d){ 
		var oLi = document.createElement('li');
		var oH3 = document.createElement('h3');
//		oH3.title = d.title;
		var ul = document.createElement('ul');
		if(d.child){
			oH3.innerHTML = '+'+ d.title;
			oH3.onclick = function(){
				ul.innerHTML = '';
				if(!this.onOff){					
					ul.className = 'show';
					for (var i=0;i<d.child.length;i++) {
						fn(ul,d.child[i]);
					}
				}else{
					ul.className = 'hide';
				}
				this.onOff = !this.onOff;				
			}
		}else{
			oH3.innerHTML = d.title;
		}		
		oLi.appendChild(oH3);
		oLi.appendChild(ul);
		obj.appendChild(oLi);		
	}
	





</script>
</html>